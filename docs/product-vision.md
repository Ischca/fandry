# Fandry - プロダクトビジョンと設計思想

## プロダクトビジョン

### なぜFandryを作るのか

Fandryは、クリエイターとファンの関係をより深く、より持続可能にするためのプラットフォームです。既存のファンサイトプラットフォームには以下の課題があります：

1. **収益化の選択肢が限られている**
   - 月額固定のサブスクリプションのみ
   - 単品販売とサブスクリプションの併用が難しい
   - 階層的なプラン設計ができない

2. **プラットフォーム手数料が高い**
   - 一般的に15-20%の手数料
   - クリエイターの収益を圧迫

3. **コンテンツの柔軟性が低い**
   - 全て有料か全て無料の二択
   - 段階的なコンテンツ開放ができない

4. **アダルトコンテンツへの対応が不透明**
   - 規約変更でアカウント凍結のリスク
   - クリエイターが安心して活動できない

Fandryはこれらの課題を解決し、クリエイターが自由に、安心して活動できるプラットフォームを目指します。

### 既存サービスとの違い

| 特徴 | Fandry | Patreon | Fanbox | OnlyFans |
|------|--------|---------|--------|----------|
| サブスク階層 | 3階層 | 無制限 | 1階層 | 1階層 |
| 単品販売 | ✅ | ❌ | ✅ | ❌ |
| 無料投稿 | ✅ | ✅ | ✅ | ❌ |
| 手数料 | 10% | 8-12% | 10% | 20% |
| アダルト対応 | ✅（将来） | ❌ | ❌ | ✅ |
| 技術スタック | モダン | レガシー | レガシー | 不明 |

## ターゲットユーザー

### クリエイター像

**プライマリターゲット:**
- イラストレーター、漫画家
- コスプレイヤー、写真家
- 音楽家、動画クリエイター
- ライター、ブロガー

**特徴:**
- 月間収益: 10万円〜100万円を目指す
- フォロワー: 1,000人〜10万人
- コンテンツ投稿頻度: 週1〜3回
- 収益化の多様性を求める

**セカンダリターゲット:**
- アダルトコンテンツクリエイター
- ニッチなジャンルのクリエイター
- 既存プラットフォームで規約違反リスクを感じているクリエイター

### ファン像

**プライマリターゲット:**
- 20代〜40代
- 特定のクリエイターを応援したい
- 月額500円〜3,000円程度の支出が可能
- 限定コンテンツに価値を感じる

**行動パターン:**
- 複数のクリエイターをフォロー
- 気に入ったコンテンツは単品購入
- 特に好きなクリエイターはサブスク登録
- コメントやいいねで交流

## コア機能の設計思想

### 3階層のサブスクリプション設計

Fandryは**3階層のサブスクリプションプラン**を採用しています。これは以下の理由によります：

1. **選択肢の適度な提供**
   - 無制限だと選択肢が多すぎて迷う
   - 1階層だと柔軟性がない
   - 3階層が心理学的に最適（松竹梅の法則）

2. **クリエイターの管理負担を軽減**
   - プランが多すぎると管理が大変
   - 3階層なら明確に差別化できる

3. **ファンの段階的な支援**
   - 低価格プラン: お試し（500円〜）
   - 中価格プラン: 本格的な支援（1,000円〜2,000円）
   - 高価格プラン: コアファン（3,000円〜）

**推奨プラン設計例:**
```
Tier 1: ライトプラン（500円）
- 月1回の限定投稿閲覧
- コメント優先表示

Tier 2: スタンダードプラン（1,500円）
- 全ての限定投稿閲覧
- 制作過程の公開
- 月1回のアンケート参加

Tier 3: プレミアムプラン（3,000円）
- 全ての特典
- 月1回のリクエスト権
- クレジット表記
```

### 投稿タイプの設計思想

Fandryは**3種類の投稿タイプ**を提供します：

1. **無料投稿（Free）**
   - 目的: 新規ファンの獲得、プロモーション
   - 誰でも閲覧可能
   - いいね・コメント可能

2. **有料投稿（Paid）**
   - 目的: 単品販売による収益化
   - 価格を自由に設定（100円〜10,000円）
   - 購入者のみ閲覧可能

3. **会員限定投稿（Members Only）**
   - 目的: サブスクリプション会員への特典
   - 特定のTier以上の会員のみ閲覧可能
   - 継続的な収益の柱

**投稿タイプの使い分け例:**
```
無料投稿: 完成作品のサムネイル、告知
有料投稿: 高解像度の完成作品、限定イラスト
会員限定: 制作過程、ラフスケッチ、裏話
```

### 収益化モデル

**クリエイターの収益:**
- サブスクリプション収入（月額課金）
- 単品販売収入（都度課金）
- プラットフォーム手数料: **10%**

**ファンの支出:**
- サブスクリプション: 月額500円〜3,000円
- 単品購入: 100円〜10,000円

**プラットフォームの収益:**
- 取引手数料: 10%
- 決済手数料: Stripe手数料（3.6%）を転嫁

**収益シミュレーション例:**
```
クリエイターA:
- サブスク会員: 100人 × 1,000円 = 100,000円
- 単品販売: 20件 × 500円 = 10,000円
- 合計売上: 110,000円
- 手数料（10%）: 11,000円
- 決済手数料（3.6%）: 3,960円
- 純収益: 95,040円
```

## 技術選定の理由

### なぜtRPCを選んだか

**選定理由:**
1. **型安全性**: TypeScriptの型がフロントエンドとバックエンドで自動同期
2. **開発速度**: APIスキーマを別途定義する必要がない
3. **バンドルサイズ**: REST APIよりも軽量
4. **開発者体験**: IDEの補完が効く、リファクタリングが容易

**代替案との比較:**
- REST API: 型安全性がない、スキーマ定義が必要
- GraphQL: 学習コストが高い、オーバーフェッチング
- gRPC: Web環境での使用が複雑

### なぜRailway + Neonを選んだか

**Railway:**
- GitHubとの自動連携
- 簡単なデプロイ
- 手頃な価格（月$5〜）
- スケーリングが容易

**Neon PostgreSQL:**
- サーバーレスで自動スケール
- 無料枠が充実
- バックアップ自動化
- 高速な接続

**Cloudflare R2:**
- 低コスト（無料枠10GB）
- グローバルCDN
- アダルトコンテンツ対応
- S3互換API

**代替案との比較:**
- Vercel: サーバーレス関数の制約が厳しい
- AWS: 高コスト、複雑な設定
- Heroku: 無料枠廃止、高コスト

## データモデル設計

### 主要エンティティ

```
User（ユーザー）
├── Creator（クリエイター）
│   ├── SubscriptionPlan（プラン）
│   ├── Post（投稿）
│   └── Follower（フォロワー）
├── Subscription（サブスクリプション）
├── Purchase（購入履歴）
├── Like（いいね）
└── Comment（コメント）
```

### リレーション設計の考え方

1. **User ⇔ Creator: 1対1**
   - 1ユーザーは1クリエイターになれる
   - 将来的に複数クリエイター対応も検討

2. **Creator ⇔ SubscriptionPlan: 1対3**
   - 1クリエイターは最大3つのプラン
   - Tier 1, 2, 3で固定

3. **Post ⇔ User: 多対多（いいね、購入）**
   - 中間テーブルで管理
   - 購入履歴は削除不可

4. **Creator ⇔ User: 多対多（フォロー）**
   - フォロー関係を中間テーブルで管理

## 将来の拡張性

### アダルトコンテンツ対応

**フェーズ1: 一般コンテンツのみ（現在）**
- Cloudflare Pages/Workers使用可能
- Stripe決済

**フェーズ2: アダルトコンテンツ対応**
- AWS/Railwayに移行
- CCBill/Epoch決済に切り替え
- 年齢確認機能の実装
- コンテンツフィルタリング機能

### スケーリング戦略

**ユーザー数に応じたスケーリング:**

**〜1,000ユーザー:**
- Railway 1インスタンス
- Neon Free Tier
- R2 無料枠

**1,000〜10,000ユーザー:**
- Railway 複数インスタンス
- Neon Pro
- R2 有料プラン
- CDN導入

**10,000ユーザー〜:**
- Kubernetes導入
- データベースシャーディング
- マイクロサービス化検討

### 機能拡張ロードマップ

**Phase 1（MVP）: ✅ 完了**
- ユーザー認証
- クリエイター登録
- 投稿機能
- サブスクリプション
- 決済機能

**Phase 2: 🚧 開発中**
- 投稿編集・削除
- 画像アップロード改善
- 通知機能
- メッセージ機能

**Phase 3: 📋 計画中**
- モバイルアプリ
- ライブ配信機能
- コミュニティ機能（掲示板）
- アナリティクス（収益分析）

**Phase 4: 💡 構想中**
- NFT統合
- クリエイターコラボ機能
- AI生成コンテンツ対応
- 多言語対応

## セキュリティとプライバシー

### セキュリティ対策

1. **認証・認可**
   - OAuth 2.0による認証
   - JWTトークンによるセッション管理
   - CSRF対策（tRPCが自動処理）

2. **データ保護**
   - パスワードのハッシュ化（bcrypt）
   - HTTPS通信の強制
   - 環境変数による秘密情報管理

3. **決済セキュリティ**
   - PCI DSS準拠（Stripe経由）
   - Webhook署名検証
   - 二重課金防止

### プライバシー保護

1. **個人情報の最小化**
   - 必要最小限の情報のみ収集
   - メールアドレスは暗号化保存

2. **コンテンツの権利保護**
   - 有料コンテンツのDRM（検討中）
   - スクリーンショット防止（検討中）

3. **GDPR対応**
   - データ削除リクエスト対応
   - データエクスポート機能

## ビジネスモデル

### 収益構造

**主要収益:**
- 取引手数料: 10%
- 月間GMV目標: 1,000万円
- 月間収益目標: 100万円

**コスト構造:**
- インフラコスト: 月5万円〜
- 決済手数料: GMVの3.6%
- 開発・運用コスト: 月50万円〜

**損益分岐点:**
- 月間GMV: 500万円
- 登録クリエイター: 100人
- アクティブファン: 1,000人

### 成長戦略

1. **初期（0-6ヶ月）**
   - クリエイター50人獲得
   - 口コミによる拡散
   - SNSマーケティング

2. **成長期（6-12ヶ月）**
   - クリエイター200人獲得
   - インフルエンサー連携
   - 広告投資

3. **拡大期（12-24ヶ月）**
   - クリエイター1,000人獲得
   - 海外展開
   - 企業連携

## まとめ

Fandryは、クリエイターとファンの持続可能な関係を築くためのプラットフォームです。技術的な優位性、柔軟な収益化モデル、将来の拡張性を兼ね備え、既存サービスの課題を解決します。

**コアバリュー:**
1. **クリエイターファースト**: 手数料10%、柔軟な収益化
2. **技術的優位性**: モダンスタック、高速開発
3. **持続可能性**: スケーラブルなアーキテクチャ
4. **安心感**: アダルト対応、規約の透明性
